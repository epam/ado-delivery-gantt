import{__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./IdentityPickerDropdown.css";import*as React from"react";import{ObservableLike,ObservableValue}from"../../Core/Observable";import{FilterBarItem}from"../../FilterBarItem";import{css}from"../../Util";import{CustomIdentityPickerDropdown}from"./CustomIdentityPickerDropdown";var IdentityPickerDropdownFilterBarItem=function(i){function e(e){var t=i.call(this,e)||this;return t.selectedUser=new ObservableValue(void 0),t.selectedUserFriendlyName=new ObservableValue(""),t.areSuggestionsVisible=new ObservableValue(!1),t.onFilterChanged=function(e){i.prototype.onFilterChanged.call(t,e),e&&e.value||(t.selectedUser.value=void 0,t.setTextValue(""))},t.onSuggestionsVisibleChanged=function(e){t.areSuggestionsVisible.value=e},t.onIdentityChanged=function(e){t.selectedUser.value=e,t.setFilterValue({value:t.selectedUser.value}),t.setTextValue(e&&e.displayName||"")},t.setTextValue=function(e){t.selectedUserFriendlyName.value=e},e.initialValue&&(ObservableLike.isObservable(e.initialValue)?t.selectedUser=e.initialValue:t.selectedUser.value=e.initialValue,t.selectedUserFriendlyName.value=t.selectedUser.value&&t.selectedUser.value.displayName||""),e.initialTextValue&&(ObservableLike.isObservable(e.initialTextValue)?t.selectedUserFriendlyName=e.initialTextValue:t.selectedUserFriendlyName.value=e.initialTextValue),t}return __extends(e,i),e.prototype.focus=function(){return!1},e.prototype.render=function(){return React.createElement(CustomIdentityPickerDropdown,{className:css(this.props.className,"bolt-identitypicker-filterbaritem"),pickerProvider:this.props.pickerProvider,onChange:this.onIdentityChanged,placeholder:this.props.placeholder,editPlaceholder:this.props.editPlaceholder,value:this.selectedUser,textValue:this.selectedUserFriendlyName,resolveUnrecognizedIdentity:this.props.resolveUnrecognizedIdentity,suggestionsVisible:this.areSuggestionsVisible,onSuggestionsVisibleChanged:this.onSuggestionsVisibleChanged,onInputChange:this.setTextValue})},e}(FilterBarItem);export{IdentityPickerDropdownFilterBarItem};