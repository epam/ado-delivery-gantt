import{__assign}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./IdentityPickerDropdown.css";import*as React from"react";import{ObservableLike,useObservable}from"../../Core/Observable";import{Observer}from"../../Observer";import{CustomIdentityPickerDropdown}from"./CustomIdentityPickerDropdown";var IdentityPickerDropdown=function(t){function e(e){t.onSuggestionsVisibleChanged&&t.onSuggestionsVisibleChanged(e),s(e)}function r(e){return!1!==l(e)?(n(e?e.displayName||e.mailNickname:""),!0):(n(""),!1)}var a=useObservable(getTextValue(t.value)),i=a[0],n=a[1],a=useObservable(!1),o=a[0],s=a[1],l=t.onChange;return ObservableLike.isObservable(t.value)||React.useEffect(function(){n(t.value&&ObservableLike.getValue(t.value)&&ObservableLike.getValue(t.value).displayName||"")},[t.value]),React.createElement(Observer,{value:{observableValue:t.value,filter:function(){return n(getTextValue(t.value)),!1}}},function(){return React.createElement(CustomIdentityPickerDropdown,__assign({},t,{suggestionsVisible:o,onChange:r,onInputChange:n,onSuggestionsVisibleChanged:e,textValue:i}))})};function getTextValue(e){return e&&ObservableLike.getValue(e)?ObservableLike.getValue(e).displayName:""}export{IdentityPickerDropdown};