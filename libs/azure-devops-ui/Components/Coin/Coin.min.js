import{__assign,__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./Coin.css";import*as React from"react";import{Tooltip}from"../../TooltipEx";import{css,KeyCode}from"../../Util";import{getColorString}from"../../Utilities/Color";import{getInitialsColorFromName,getInitialsFromName}from"./Coin.Initials";var Coin=function(t){function e(e){var o=t.call(this,e)||this;return o.onImageError=function(e){o.setState({imageError:!0})},o.onLoad=function(e){o.setState({imageLoaded:!0})},o.handleKeyDown=function(e){e.keyCode!==KeyCode.enter&&e.keyCode!==KeyCode.space||o.props.onClick&&o.props.onClick()},o.state={imageError:!1,imageLoaded:!1,showIdentityCard:!1},o}return __extends(e,t),e.prototype.render=function(){var e=this.props,o=e.ariaLabel,t=e.className,a=e.displayName,i=e.dataIsFocusable,r=e.onClick,n=e.isTabStop,s=e.imgAltText,s=void 0===s?"":s,l=e.imageUrl,m=e.size,e=e.tooltipProps,m="size"+m,c={},i=(i&&(c["data-is-focusable"]=!0),n&&(c.tabIndex=0),r&&(c.onKeyDown=this.handleKeyDown,c.onClick=r,c.role="button"),c["aria-label"]=void 0!==o?o:a,getInitialsColorFromName(a)),n=React.createElement("div",{className:css("bolt-coin-content",m),style:i&&{background:getColorString(i)}},React.createElement("span",null,getInitialsFromName(a))),o=void 0===l||this.state.imageError?n:React.createElement(React.Fragment,null,React.createElement("img",{className:css("bolt-coin-content using-image",m,!this.state.imageLoaded&&"pending-load-image"),src:l,alt:s,onError:this.onImageError,onLoad:this.onLoad})),i=React.createElement("div",__assign({className:css("bolt-coin flex-noshrink",t,m,r&&"cursor-pointer")},c),o);return null!==e?React.createElement(Tooltip,__assign({text:a,showOnFocus:!0},e),i):i},e}(React.Component);export{Coin};