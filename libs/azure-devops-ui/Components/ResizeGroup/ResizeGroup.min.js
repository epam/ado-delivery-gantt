import{__assign,__extends,__spreadArrays}from"tslib";import"../../CommonImports";import"../../Core/core.css";import*as React from"react";import{ObservableArray,ObservableValue}from"../../Core/Observable";import{ResponsiveLayout}from"../../ResponsiveLayout";var ResizeGroupContext=React.createContext({}),ResizeGroup=function(o){function r(e){var t=o.call(this,e)||this,e=(t.onLayoutChange=function(e){t.state.hiddenCount.value=e,t.props.responsiveLayoutProps.onLayoutChange&&t.props.responsiveLayoutProps.onLayoutChange(e),r.updateOverflowItems(t.props,t.state)},t.props.extraItems||[]);return t.state={hiddenCount:new ObservableValue(0),overflowItems:new ObservableArray(__spreadArrays(e)),editedItems:[]},t}return __extends(r,o),r.getDerivedStateFromProps=function(e,t){return r.updateOverflowItems(e,t),t},r.prototype.render=function(){return React.createElement(ResizeGroupContext.Provider,{value:{overflowItems:this.state.overflowItems}},React.createElement(ResponsiveLayout,__assign({},this.props.responsiveLayoutProps,{onLayoutChange:this.onLayoutChange}),this.props.children))},r.updateOverflowItems=function(e,t){var o=e.extraItems||[];t.overflowItems.value=__spreadArrays(o,e.overflowMenuItems.slice(0,t.hiddenCount.value)),e.useAriaLabelForOverflow&&(t.editedItems.forEach(function(e){return e.text=""}),t.editedItems=[],t.overflowItems.value.forEach(function(e){!e.text&&e.ariaLabel&&(e.text=e.ariaLabel,t.editedItems.push(e))}))},r}(React.Component);export{ResizeGroupContext,ResizeGroup};