import{__assign,__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./Menu.css";import"./MenuButton.css";import*as React from"react";import{ExpandableButton}from"../../Button";import{ContextualMenu}from"./Menu";var buttonId=1,MenuButton=function(n){function t(t){var p=n.call(this,t)||this;return p.dropdownButton=React.createRef(),p.expand=function(){p.dropdownButton.current&&p.dropdownButton.current.expand()},p.collapse=function(){p.dropdownButton.current&&p.dropdownButton.current.collapse()},p.renderMenu=function(o,t,n,e,r,u,s){var i="function"==typeof p.props.contextualMenuProps?p.props.contextualMenuProps():p.props.contextualMenuProps;return React.createElement(ContextualMenu,{anchorElement:n,anchorOffset:i.anchorOffset||e,anchorOrigin:i.anchorOrigin||r,anchorPoint:i.anchorPoint||u,fixedLayout:i.fixedLayout,menuOrigin:i.menuOrigin||s,menuProps:i.menuProps,className:i.className,onActivate:function(t,n){i.onActivate&&i.onActivate(t,n),o.collapse()},onDismiss:o.collapse})},p.state={id:p.props.id||"menu-button-"+buttonId++},p}return __extends(t,n),t.prototype.render=function(){var t=this.props,t=(t.contextualMenuProps,t.hideDropdownIcon);return React.createElement(ExpandableButton,__assign({},__assign(__assign({},this.props),{menuProps:void 0}),{hideDropdownIcon:t,id:this.state.id,ref:this.dropdownButton,renderCallout:this.renderMenu}),this.props.children)},t.prototype.focus=function(){this.dropdownButton.current&&this.dropdownButton.current.focus()},t}(React.Component);export{MenuButton};